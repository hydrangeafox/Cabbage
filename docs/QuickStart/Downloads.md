# download.js

[前章](./Capture.md)ではプレビュー画像を一括取得した。
この調子で動画も...
と試してみたものの得られたのは HTML 文書だった。
恐らく、この文書が実際のダウンロード処理を起動していたのだろう。
そこで、本スクリプトでは別の手法で動画ダウンロードに挑戦する。

1. いつものように [downloads.js](../../src/downloads.js) をコピー、
   開発者コンソールにペーストして実行する:  
   画面下部に TSV 入力フォームが現れる。
2. [シェルスクリプトが生成](./Capture.md#in-the-terminal)した
   TSV をフォームへ入力する
    - TSV ファイルの内容をコピー、テキスト領域(_Paste TSV here_)にペーストする。
      あるいは...
    - [ファイルを選択]ボタンで TSV ファイルを指定する:  
      ファイルをこのボタンへ **正確に** ドロップしてもよい。
    - 両方指定すると後者が優先される
3. _Render_ ボタンを押す:  
   フォーム上部に一連の動画ダウンロードリンクが作成される
   (件数が多い場合、この区画は上下スクロール可能)
4. ダウンロードリンクを **一件ずつ** クリックしていく:  
   ブラウザ既定のダウンロードフォルダへ動画ファイルが格納される
5. ダウンロードした動画が正しく再生できるか確認する
6. TSV ファイルが必要なければゴミ箱へ投入する:  
   このファイルは `capture.js` が実行されるたびに追記されていく。
   **複数の期間** をグループ化し、本スクリプトを実行していくのもよいだろう。

このスクリプトは当該ブログサイト内であれば任意のページで動作する。
例えば、サイトのトップページで実行するのはよいアイデアだろう。
それどころか `about:blank` ページでも動作するかもしれない。
ただしこの場合、サイトの Cookie は利用できないことになる。

> [!WARNING]
> このフォームは当該サイトに入力した情報を送るものではない。
> しかし、万一に備えて機密情報など入力しないようにする。

以上で [クイックスタートガイド](./index.md) はおしまいである。
一丁前に [謝辞](../Acknowledgement.md) も書いてみたので一読されたい。
