# sweep.js

`walk.js` はブラウザの[内部領域][localStorage]にコンテンツを溜め込んでいった。
[前章](./index.md#planning)の通り、これらは随時「お掃除」していく必要がある。
そのために利用するのが、このスクリプトである
(もちろん、内部領域のデータを利用する予定があるのなら消去してはいけない)

[localStorage]: https://developer.mozilla.org/docs/Web/API/Window/localStorage

内部領域データの一括削除ならブラウザの設定画面からも実行できる。
しかしその場合、サイト自身が利用している項目まで失われてしまう。
この結果、サイトからログアウトされたり言語設定の初期化等が起こりうる。
これに対し、本スクリプトは `walk.js` が作成した項目のみを消去する。

1. コンソールに [sweep.js](../../src/sweep.js) の内容をペースト、実行する:  
   コンソールに消去した項目の件数が表示される。

これで、データ収集計画の一区間が終了したことになる。
このあと[収集作業](./Walk.md)へ戻り、次の区間へと進んでいこう。
いくつかの区間が終わったら、あとは[動画ダウンロード](./Downloads.md)だけである。

> [!TIP]
> 次の区間へ進む前にコンソールの実行履歴を消去しておくのがいいかもしれない。
> そうでないと、間違えて以前実行した区間の履歴を呼び出してしまう恐れがある。
>
> - Microsoft Edge: コンソースの右クリックメニューから実行可能
> - Safari 15.5: 安全な消去方法不明...
