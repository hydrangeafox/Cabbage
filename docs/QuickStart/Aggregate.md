# aggregate.js

とりあえずいま、最初の[期間](./index.md#planning)のデータを収集できたとする。
そこで気になるのが内部領域に蓄積した情報である。
これは `aggregate.js` を実行することで取り出すことができる。

1. [aggregate.js](../../src/aggregate.js) をコンソールにペーストする:  
   このスクリプトは当該サイト内であれば任意のページで動作するだろう。
2. [Return] キーを押して実行する:  
   ページ最上部中央に _Metadata_ というボタンが現れる。
3. 前項の _Metadata_ ボタンを押す:  
   収集結果がクリップボードへ格納され、コンソールに完了メッセージが表示される。
4. 「テキストエディット」等のエディタにクリップボードの内容を貼り付ける
5. 新規文書を以下の名前や文字列符号化(エンコーディング)形式で保存する
    - フォルダ名: ダウンロード > Cabbage 等(上書きを避けるための専用フォルダ)
    - ファイル名: [期間](./index.md#planning)の [ISO 8601][] 表現
      あるいは記事番号(`startid+endid`)等
    - 拡張子(サフィックス): `.json`
    - エンコーディング: [UTF-8][]
6. JSON ファイルの内容を確認するには macOS 標準のクイックルックが便利:  
   記事の表題や概要文がファイルから見てとれる。
   絵文字が含まれていればそれらも再現されていることに注意してほしい。

[ISO 8601]: https://ja.wikipedia.org/wiki/ISO_8601
[UTF-8]: https://ja.wikipedia.org/wiki/UTF-8

> [!NOTE]
> 本プロジェクトではファイル名として以下のものを想定している。
> なお、日本語や空白文字の使用は控えてほしい。
>
> - 半角英数字と一部の記号(下線・正負符号・ピリオド等)のみ
> - 大文字・小文字を区別(ファイルシステムによる)

> [!INFO]
> [JSON][] は多くのプログラミング言語で利用可能なデータ表現形式である。
> その構文は簡潔であり、XML に比べてデータサイズも小さくなることが多い。
> また、仕様で符号化形式を UTF-8 と規定している。

[JSON]: https://json.org

保存した JSON ファイルにはどのような利用方法があるのか?
現在、以下のような利用方法を検討している。

- オフライン閲覧用の簡易サイト生成
- 各種統計・サマリー生成

なんとなく JSON ファイルの使いみちが分かった...
それでは、次に[写真を回収](./Capture.md)してみよう。
